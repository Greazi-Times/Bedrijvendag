import{_ as f}from"./Table.vue_vue_type_script_setup_true_lang-COUG-MZk.js";import{_ as y}from"./AppLayout.vue_vue_type_script_setup_true_lang-ISkciXjy.js";import{d as h}from"./index-fFqgNZJi.js";import{d as g,j as i,n as v,k as c,p as m,c as w,o as _,a as l,u as p,h as k,w as S,e as t,t as r,q as E,F as C,s as j}from"./app-BB1wLqHH.js";import"./useForwardExpose-DuPeKSsG.js";import"./UserMenuContent.vue_vue_type_script_setup_true_lang-B5ZgElup.js";import"./createLucideIcon-BiwFXBxA.js";import"./VisuallyHidden-k42m46qh.js";import"./RovingFocusGroup-D2axv7HO.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./users-lES42Api.js";const A={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},B={class:"grid auto-rows-min gap-4 md:grid-cols-3"},D={class:"relative flex flex-col justify-center rounded-xl border border-sidebar-border/70 bg-white p-6 text-center shadow dark:border-sidebar-border dark:bg-gray-800"},T={class:"flex justify-center gap-4"},V={class:"min-w-1/3 px-6 py-4 text-center"},$={class:"text-2xl font-bold text-foreground"},F={class:"min-w-1/3 px-6 py-4 text-center"},N={class:"text-2xl font-bold text-primary"},G={class:"min-w-1/3 px-6 py-4 text-center"},q={class:"text-2xl font-bold text-foreground"},I={class:"relative flex flex-col justify-center rounded-xl border border-sidebar-border/70 bg-white p-6 text-center shadow dark:border-sidebar-border dark:bg-gray-800"},M={class:"min-w-1/3 px-6 py-4 text-center"},Z={class:"text-2xl font-bold"},z={class:"relative flex flex-col justify-center rounded-xl border border-sidebar-border/70 bg-white p-6 text-center shadow dark:border-sidebar-border dark:bg-gray-800"},H={class:"min-w-1/3 px-6 py-4 text-center"},J={class:"flex justify-center gap-4"},K={class:"min-w-1/3 px-6 py-4 text-center"},L={class:"text-2xl font-bold text-foreground"},O={class:"min-w-1/3 px-6 py-4 text-center"},P={class:"text-2xl font-bold text-primary"},lt=g({__name:"Dashboard",props:{companyStats:{},borrelCount:{},userCount:{},companies:{}},setup(a){const n=i(a.borrelCount);v(async()=>{try{const o=await j.get("/borrel-enrollments/total");n.value=o.data.total}catch(o){console.error("Failed to fetch total enrollments:",o)}});const b=[{title:"Dashboard",href:h().url}],x=c(()=>{const o=new Set;return a.companies?.forEach(e=>e.editions?.forEach(s=>o.add(s))),Array.from(o).sort()}),d=c(()=>{const o=new Set;return a.companies?.forEach(e=>e.sectors?.forEach(s=>o.add(s))),Array.from(o).sort()}),u=i(new Set);return m(d,o=>{u.value=new Set(o)},{immediate:!0}),m(()=>a.companies,o=>{console.log("ðŸ“¦ Companies data received:",o)},{immediate:!0}),(o,e)=>(_(),w(C,null,[l(p(k),{title:"Dashboard"}),l(y,{breadcrumbs:b},{default:S(()=>[t("div",A,[t("div",B,[t("div",D,[e[3]||(e[3]=t("h2",{class:"mb-2 text-lg font-semibold text-gray-900 dark:text-gray-100"},"Geregistreerde Bedrijven",-1)),t("div",T,[t("div",V,[t("p",$,r(o.companyStats.visible+o.companyStats.hidden),1),e[0]||(e[0]=t("p",{class:"text-sm"},"Totaal",-1))]),t("div",F,[t("p",N,r(o.companyStats.visible),1),e[1]||(e[1]=t("p",{class:"text-sm"},"Zichtbaar",-1))]),t("div",G,[t("p",q,r(o.companyStats.hidden),1),e[2]||(e[2]=t("p",{class:"text-sm"},"Verborgen",-1))])])]),t("div",I,[e[5]||(e[5]=t("h2",{class:"mb-2 text-lg font-semibold text-gray-900 dark:text-gray-100"},"Borrel Aanmeldingen",-1)),t("div",M,[t("p",Z,r(n.value),1),e[4]||(e[4]=t("p",{class:"text-sm"},"Totaal Ingeschreven Studenten",-1))])]),t("div",z,[e[8]||(e[8]=t("h2",{class:"mb-2 text-lg font-semibold text-gray-900 dark:text-gray-100"},"Aantal Gebruikers",-1)),t("div",H,[t("div",J,[t("div",K,[t("p",L,r(o.userCount.total),1),e[6]||(e[6]=t("p",{class:"text-sm"},"Totaal",-1))]),t("div",O,[t("p",P,r(o.userCount.admin),1),e[7]||(e[7]=t("p",{class:"text-sm"},"Admins",-1))])])])])]),l(f,{data:o.companies,columns:[{key:"name",label:"Name"},{key:"editions",label:"Editions"},{key:"sectors",label:"Sectors"},{key:"visible",label:"Visible"}],filters:[{key:"edition",label:"Editions",options:x.value},{key:"sector",label:"Sectors",options:d.value}],"row-actions":[{label:"View",route:s=>`/dashboard/company/${s.id}`},{label:"Edit",route:s=>`/dashboard/company/${s.id}/edit`},{label:"Delete",route:s=>{p(E).visit(`/dashboard/company/${s.id}/remove`,{method:"put",preserveScroll:!0})}}],"add-route":"/dashboard/company/create"},null,8,["data","filters","row-actions"])])]),_:1})],64))}});export{lt as default};
